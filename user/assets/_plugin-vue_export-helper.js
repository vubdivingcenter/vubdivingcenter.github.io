import{Y as S,d as z}from"./index.js";const h={};function M(o){return function(t,e){var n;if(e){if(e.kind!=="class")throw"deco stage 3 class";const s=(n=h.fakePrototype)!==null&&n!==void 0?n:h.fakePrototype={},r=l(s);return delete h.fakePrototype,l(t.prototype,r),o(t)}else return o(t)}}function j(o){return function(t,e){var n;if(typeof e=="object"){const s=(n=h.fakePrototype)!==null&&n!==void 0?n:h.fakePrototype={};return s[e.name]=t,o(s,e.name)}else return o(t,e)}}const E=Symbol("vue-facing-decorator-slot");class N{constructor(t){this.names=new Map,this.inComponent=!1,this.cachedVueComponent=null,this.master=t}obtainMap(t){let e=this.getMap(t);return e||(e=new Map,this.names.set(t,e)),e}getMap(t){return this.names.get(t)}}function V(o,t){if(b(o))throw"";t&&(t.master=o);const e=t!=null?t:new N(o);return Object.defineProperty(o,E,{enumerable:!1,value:e}),e}function b(o){var t;return(t=Object.getOwnPropertyDescriptor(o,E))===null||t===void 0?void 0:t.value}function l(o,t){const e=b(o);return e||V(o,t)}function F(o,t){return o.reduce((e,n)=>(e[n]=t[n],e),{})}function C(o){const t=[];let e=o;do t.unshift(e),e=Object.getPrototypeOf(e);while(e.constructor!==g&&!b(e));return t}function $(o){let t=Object.getPrototypeOf(o);for(;t.constructor!==g;){const e=b(t);if(e)return e;t=Object.getPrototypeOf(t)}return null}function A(o,t,e){return o.filter(n=>{let s=t;for(;s!=null;){for(const r of s.names.keys()){if(e&&!e(r))continue;if(r==="customDecorator"){const f=s.obtainMap("customDecorator");if(f.has(n)){if(f.get(n).every(c=>!c.preserve))return!1;continue}}if(s.names.get(r).has(n))return!1}s=$(s.master)}return!0})}function _(o,t){const e=Object.getOwnPropertyDescriptors(o);return Object.keys(e).filter(n=>t(e[n],n))}function R(o){function t(e,n){if(n)j(function(s,r){o(s,r)})(e,n);else return j(function(s,r){o(s,r,e)})}return t}function P(o){return typeof o=="function"?o:function(){return o||{}}}const H=o=>o instanceof Promise;function T(o,t){const n=l(o.prototype).getMap("setup");if(!n||n.size===0)return;const s=function(r,u){const f={};let c=null;for(const a of n.keys()){const i=n.get(a).setupFunction(r,u);H(i)?(c!=null||(c=[]),c.push(i.then(p=>{f[a]=p}))):f[a]=i}return Array.isArray(c)?Promise.all(c).then(()=>f):f};t.setup=s}function U(o,t){var e;(e=t.computed)!==null&&e!==void 0||(t.computed={});const n=l(o.prototype),s=n.obtainMap("computed"),r=n.obtainMap("vanilla");C(o.prototype).forEach(f=>{_(f,(c,a)=>(typeof c.get=="function"||typeof c.set=="function")&&!r.has(a)).forEach(c=>{s.set(c,!0);const a=Object.getOwnPropertyDescriptor(f,c);t.computed[c]={get:typeof a.get=="function"?a.get:void 0,set:typeof a.set=="function"?a.set:void 0}})})}function x(o,t,e){var n;(n=t.data)!==null&&n!==void 0||(t.data={});const s=new o(t,e);let r=_(s,(f,c)=>{var a,i;return!!f.enumerable&&!(!((a=t.methods)===null||a===void 0)&&a[c])&&!(!((i=t.props)===null||i===void 0)&&i[c])});const u=l(o.prototype);r=A(r,u,f=>!["provide"].includes(f)),Object.assign(t.data,F(r,s))}const K=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","renderTracked","renderTriggered","errorCaptured","serverPrefetch","render"];function Y(o,t){var e,n,s;const r=l(o.prototype),u=C(o.prototype),f=r.obtainMap("hooks");(e=t.hooks)!==null&&e!==void 0||(t.hooks={}),(n=t.methods)!==null&&n!==void 0||(t.methods={});const c={},a={};u.forEach(p=>{let d=_(p,(m,y)=>typeof m.value=="function"&&y!=="constructor");d=A(d,r,m=>!["watch","hooks","emits","provide"].includes(m)),d.forEach(m=>{K.includes(m)||f.has(m)?c[m]=p[m]:a[m]=p[m]})}),Object.assign(t.methods,a);const i=[...(s=t.beforeCreateCallbacks)!==null&&s!==void 0?s:[]];if(i&&i.length>0){const p=c.beforeCreate;c.beforeCreate=function(){i.forEach(d=>d.apply(this,arguments)),p&&p.apply(this,arguments)}}Object.assign(t.hooks,c)}function D(o,t){var e;(e=o.beforeCreateCallbacks)!==null&&e!==void 0||(o.beforeCreateCallbacks=[]),o.beforeCreateCallbacks.push(function(){const n=this;t(n).forEach((r,u)=>{Object.defineProperty(n,u,r)})})}function q(o,t){const n=l(o.prototype).getMap("ref");!n||n.size===0||D(t,s=>{const r=new Map;return n.forEach((u,f)=>{const c=u===null?f:u;r.set(f,{get:function(){return s.$refs[c]},set:void 0})}),r})}function G(o,t){var e;(e=t.watch)!==null&&e!==void 0||(t.watch={});const s=l(o.prototype).getMap("watch");!s||s.size===0||s.forEach((r,u)=>{(Array.isArray(r)?r:[r]).forEach(c=>{if(!t.watch[c.key])t.watch[c.key]=c;else{const a=t.watch[c.key];Array.isArray(a)?a.push(c):t.watch[c.key]=[a,c]}})})}const rt=R(function(o,t,e){const s=l(o).obtainMap("props"),r=Object.assign({},e!=null?e:{});s.set(t,r)});function J(o,t){var e;(e=t.props)!==null&&e!==void 0||(t.props={});const s=l(o.prototype).getMap("props");!s||s.size===0||s.forEach((r,u)=>{t.props[u]=r})}function L(o,t){var e;(e=t.inject)!==null&&e!==void 0||(t.inject={});const s=l(o.prototype).getMap("inject");!s||s.size===0||s.forEach((r,u)=>{t.inject[u]=r})}function Q(o,t,e){var n;(n=t.provide)!==null&&n!==void 0||(t.provide={});const r=l(o.prototype).obtainMap("provide");if(!r)return null;r.forEach((u,f)=>{const c=u===null?f:u;t.provide[c]=S(()=>e[f])})}var W=function(o,t,e,n){function s(r){return r instanceof e?r:new e(function(u){u(r)})}return new(e||(e=Promise))(function(r,u){function f(i){try{a(n.next(i))}catch(p){u(p)}}function c(i){try{a(n.throw(i))}catch(p){u(p)}}function a(i){i.done?r(i.value):s(i.value).then(f,c)}a((n=n.apply(o,t||[])).next())})};function X(o,t){var e;(e=t.methods)!==null&&e!==void 0||(t.methods={});const n=o.prototype,s=l(n),r=s.getMap("emit");if(!r||r.size===0)return;const u=s.obtainMap("emits");r.forEach((f,c)=>{const a=f===null?c:f;u.set(a,!0),t.methods[c]=function(){return W(this,arguments,void 0,function*(){const i=n[c].apply(this,arguments);if(i instanceof Promise){const p=yield i;this.$emit(a,p)}else i===void 0?this.$emit(a):this.$emit(a,i)})}})}function Z(o,t){var e;(e=t.computed)!==null&&e!==void 0||(t.computed={});const n=l(o.prototype),s=n.getMap("v-model");if(!s||s.size===0)return;const r=n.obtainMap("emits");s.forEach((u,f)=>{var c;const a=(c=u&&u.name)!==null&&c!==void 0?c:"modelValue",i="update:".concat(a);t.computed[f]={get:function(){return this[a]},set:function(p){this.$emit(i,p)}},r.set(i,!0)})}function I(o,t){const n=l(o.prototype).getMap("vanilla");if(!n||n.size===0)return;const s=C(o.prototype),r=new Map;D(t,u=>(s.forEach(f=>{const c=Object.getOwnPropertyDescriptors(f);for(const a in c){const i=c[a];i&&n.has(a)&&(typeof i.get=="function"||typeof i.set=="function")&&r.set(a,{set:typeof i.set=="function"?i.set.bind(u):void 0,get:typeof i.get=="function"?i.get.bind(u):void 0})}}),r))}function B(o,t){const e={};return T(o,e),Z(o,e),U(o,e),G(o,e),J(o,e),L(o,e),X(o,e),q(o,e),I(o,e),Y(o,e),Object.assign(Object.assign({name:o.name,setup:e.setup,data(){var s;return delete e.data,x(o,e,this),(s=e.data)!==null&&s!==void 0?s:{}},methods:e.methods,computed:e.computed,watch:e.watch,props:e.props,inject:e.inject,provide(){var s;return Q(o,e,this),(s=e.provide)!==null&&s!==void 0?s:{}}},e.hooks),{extends:t})}function tt(o,t,e){var n,s;const r=B(o,e),u=l(o.prototype);Object.keys(t).reduce((p,d)=>(["options","modifier","methods","emits","setup","provide"].includes(d)||(p[d]=t[d]),p),r);let f=Array.from(u.obtainMap("emits").keys());if(Array.isArray(t.emits)&&(f=Array.from(new Set([...f,...t.emits]))),r.emits=f,typeof t.methods=="object"&&!Array.isArray(t.methods)&&t.methods!==null&&((n=r.methods)!==null&&n!==void 0||(r.methods={}),Object.assign(r.methods,t.methods)),!r.setup)r.setup=t.setup;else{const p=r.setup,d=(s=t.setup)!==null&&s!==void 0?s:function(){return{}},m=function(y,O){const v=d(y,O),w=p(y,O);return w instanceof Promise||v instanceof Promise?Promise.all([v,w]).then(k=>Object.assign({},k[0],k[1])):Object.assign({},v,w)};r.setup=m}const c=P(r.provide),a=P(t.provide);r.provide=function(){return Object.assign({},c.call(this),a.call(this))};const i=u.getMap("customDecorator");return i&&i.size>0&&i.forEach(p=>{p.forEach(d=>d.creator.apply({},[r,d.key]))}),t.options&&Object.assign(r,t.options),t.modifier&&t.modifier(r),z(r)}function et(o,t){const e=l(o.prototype);e.inComponent=!0;const n=$(o.prototype);if(n){if(!n.inComponent)throw"Class should be decorated by Component or ComponentBase: "+e.master;if(n.cachedVueComponent===null)throw"Component decorator 1"}const s=tt(o,t,n===null?void 0:n.cachedVueComponent);s.__vfdConstructor=o,e.cachedVueComponent=s,o.__vccOpts=s}function ot(o,t,e){return typeof t=="function"?M(function(n){return o(n,{})})(t,e):M(function(n){return o(n,t)})}function nt(o,t){return ot(function(e,n){return et(e,n),e},o,t)}const ct=nt;function at(o){const t=l(o.prototype);if(!t.inComponent)throw"to native 1";const e=t.cachedVueComponent;if(!e)throw"to native 2";return e}const g=class{constructor(o,t){const e=o.props;e&&Object.keys(e).forEach(s=>{this[s]=t[s]});const n=o.methods;n&&Object.keys(n).forEach(s=>{this[s]=n[s].bind(t)})}},it=g,ut=(o,t)=>{const e=o.__vccOpts||o;for(const[n,s]of t)e[n]=s;return e};export{ct as C,it as V,ut as _,rt as d,at as t};
