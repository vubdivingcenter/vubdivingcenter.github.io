!function(){function e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}System.register(["./user.store-legacy.js","./index-legacy.js"],(function(t,r){"use strict";var i,a,o,s,n,l,d,u,c,m,h,p,g,f,v,w,b,y,k,V,_,x;return{setters:[e=>{i=e.t,a=e.V,o=e.u,s=e.C,n=e._},e=>{l=e.H,d=e.h,u=e.i,c=e.j,m=e.L,h=e.g,p=e.r,g=e.o,f=e.l,v=e.m,w=e.p,b=e.c,y=e.a,k=e.C,V=e.q,_=e.M,x=e.J}],execute:function(){var r=document.createElement("style");r.textContent=".message[data-v-78b0c717]{margin-bottom:20px;font-size:16px;text-align:center}.info[data-v-78b0c717]{font-size:20px;text-align:center}.error[data-v-78b0c717]{color:#fff;background-color:#9b0909;padding:10px;border-radius:10px;width:100%;font-size:12px;text-align:center}\n",document.head.appendChild(r);var j=Object.defineProperty,E=Object.getOwnPropertyDescriptor;let N=class extends a{constructor(...t){super(...t),e(this,"userStore",o()),e(this,"key",""),e(this,"invite",void 0),e(this,"email",""),e(this,"firstName",""),e(this,"lastName",""),e(this,"password",""),e(this,"password2",""),e(this,"error",void 0)}mounted(){this.key=this.$route.params.key,this.userStore.findInviteByKey(this.key).then((e=>{this.invite=e})).catch((e=>{console.error(e)}))}async register(){this.error=void 0;try{if(!(this.email&&this.firstName&&this.lastName&&this.password&&this.password2))return void this.setErrorMessage("Gelieve alle velden in te vullen");if(this.password!==this.password2)return void this.setErrorMessage("Wachtwoorden komen niet overeen");this.userStore.register(this.key,this.email,this.password,this.firstName,this.lastName).then((e=>{console.log("User registered",e),this.$router.push("/login")})).catch((e=>{const t=e.message;switch(e.code){case"auth/weak-password":this.setErrorMessage("Het wachtwoord is te zwak en moet minstens 6 karakters lang zijn.");break;case"auth/email-already-in-use":this.setErrorMessage("Dit e-mail adres is reeds in gebruik. Klik op wachtwoord vergeten om een nieuw wachtwoord aan te vragen.");break;case"auth/invalid-email":this.setErrorMessage("Dit e-mail adres is niet geldig.");break;case"auth/operation-not-allowed":this.setErrorMessage("E-mail/wachtwoord accounts zijn tijdelijk onbeschikbaar.");break;default:this.setErrorMessage(t)}}))}catch(e){console.error(e)}}setErrorMessage(e){this.error=e}};N=((e,t,r,i)=>{for(var a,o=i>1?void 0:i?E(t,r):t,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(t,r,o):a(o))||o);return i&&o&&j(t,r,o),o})([s({components:{IonPage:l,IonContent:d,IonItem:u,IonLabel:c,IonInput:m,IonButton:h}})],N);const I=i(N),M={class:"message"},z={key:0,class:"error"},C={key:1};t("default",n(I,[["render",function(e,t,r,i,a,o){const s=p("ion-label"),n=p("ion-input"),l=p("ion-item"),d=p("ion-button"),u=p("ion-content"),c=p("ion-page");return g(),f(c,null,{default:v((()=>[w(u,{class:"ion-padding"},{default:v((()=>[e.invite?(g(),b(x,{key:0},[y("div",M,[y("p",null,[y("b",null,k(e.invite.name),1),t[5]||(t[5]=V(" heeft je uitgenodigd om te registreren op de VDC website."))]),t[6]||(t[6]=y("p",{class:"info"},"Deze uitnodiging is alleen bestemt voor leden van de duikclub.",-1))]),e.error?(g(),b("span",z,k(e.error),1)):_("",!0),w(l,null,{default:v((()=>[w(s,{position:"floating"},{default:v((()=>t[7]||(t[7]=[V("E-mail")]))),_:1}),w(n,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),type:"email"},null,8,["modelValue"])])),_:1}),w(l,null,{default:v((()=>[w(s,{position:"floating"},{default:v((()=>t[8]||(t[8]=[V("Voornaam")]))),_:1}),w(n,{modelValue:e.firstName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.firstName=t),type:"text"},null,8,["modelValue"])])),_:1}),w(l,null,{default:v((()=>[w(s,{position:"floating"},{default:v((()=>t[9]||(t[9]=[V("Achternaam")]))),_:1}),w(n,{modelValue:e.lastName,"onUpdate:modelValue":t[2]||(t[2]=t=>e.lastName=t),type:"text"},null,8,["modelValue"])])),_:1}),w(l,null,{default:v((()=>[w(s,{position:"floating"},{default:v((()=>t[10]||(t[10]=[V("Wachtwoord")]))),_:1}),w(n,{modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),type:"password"},null,8,["modelValue"])])),_:1}),w(l,null,{default:v((()=>[w(s,{position:"floating"},{default:v((()=>t[11]||(t[11]=[V("Wachtwoord (herhalen)")]))),_:1}),w(n,{modelValue:e.password2,"onUpdate:modelValue":t[4]||(t[4]=t=>e.password2=t),type:"password"},null,8,["modelValue"])])),_:1}),w(d,{expand:"full",onClick:e.register},{default:v((()=>t[12]||(t[12]=[V("Registreren")]))),_:1},8,["onClick"]),t[13]||(t[13]=y("a",{target:"_blank",href:"https://www.vubdivingcenter.be/privacy-policy/"},"Privacybeleid",-1))],64)):(g(),b("p",C,"Deze uitnodiging is niet geldig of reeds gebruikt."))])),_:1})])),_:1})}],["__scopeId","data-v-78b0c717"]]))}}}))}();
