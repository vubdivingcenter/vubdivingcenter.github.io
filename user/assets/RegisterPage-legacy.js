!function(){function e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}System.register(["./_plugin-vue_export-helper-legacy.js","./index-legacy.js","./user.store-legacy.js"],(function(t,r){"use strict";var a,i,o,s,n,l,d,u,c,p,h,m,g,f,v,w,b,y,k,_,x,V;return{setters:[e=>{a=e.t,i=e.V,o=e.C,s=e._},e=>{n=e.l,l=e.m,d=e.q,u=e.s,c=e.u,p=e.v,h=e.r,m=e.o,g=e.h,f=e.w,v=e.i,w=e.n,b=e.j,y=e.t,k=e.k,_=e.x,x=e.F},e=>{V=e.u}],execute:function(){var r=document.createElement("style");r.textContent=".message[data-v-3b9eaa51]{margin-bottom:20px;font-size:16px;text-align:center}.info[data-v-3b9eaa51]{font-size:12px;text-align:center}.error[data-v-3b9eaa51]{color:#fff;background-color:#9b0909;padding:10px;border-radius:10px;width:100%;font-size:12px;text-align:center}\n",document.head.appendChild(r);var j=Object.defineProperty,E=Object.getOwnPropertyDescriptor;let N=class extends i{constructor(...t){super(...t),e(this,"userStore",V()),e(this,"key",""),e(this,"invite",void 0),e(this,"email",""),e(this,"firstName",""),e(this,"lastName",""),e(this,"password",""),e(this,"password2",""),e(this,"error",void 0)}mounted(){this.key=this.$route.params.key,this.userStore.findInviteByKey(this.key).then((e=>{this.invite=e})).catch((e=>{console.error(e)}))}async register(){this.error=void 0;try{if(!(this.email&&this.firstName&&this.lastName&&this.password&&this.password2))return void this.setErrorMessage("Gelieve alle velden in te vullen");if(this.password!==this.password2)return void this.setErrorMessage("Wachtwoorden komen niet overeen");this.userStore.register(this.key,this.email,this.password,this.firstName,this.lastName).then((e=>{console.log("User registered",e),this.$router.push("/login")})).catch((e=>{const t=e.message;switch(e.code){case"auth/weak-password":this.setErrorMessage("Het wachtwoord is te zwak en moet minstens 6 karakters lang zijn.");break;case"auth/email-already-in-use":this.setErrorMessage("Dit e-mail adres is reeds in gebruik. Klik op wachtwoord vergeten om een nieuw wachtwoord aan te vragen.");break;case"auth/invalid-email":this.setErrorMessage("Dit e-mail adres is niet geldig.");break;case"auth/operation-not-allowed":this.setErrorMessage("E-mail/wachtwoord accounts zijn tijdelijk onbeschikbaar.");break;default:this.setErrorMessage(t)}}))}catch(e){console.error(e)}}setErrorMessage(e){this.error=e}};N=((e,t,r,a)=>{for(var i,o=a>1?void 0:a?E(t,r):t,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a?i(t,r,o):i(o))||o);return a&&o&&j(t,r,o),o})([o({components:{IonPage:n,IonContent:l,IonItem:d,IonLabel:u,IonInput:c,IonButton:p}})],N);const I=a(N),z={class:"message"},M={key:0,class:"error"},C={key:1};t("default",s(I,[["render",function(e,t,r,a,i,o){const s=h("ion-label"),n=h("ion-input"),l=h("ion-item"),d=h("ion-button"),u=h("ion-content"),c=h("ion-page");return m(),g(c,null,{default:f((()=>[v(u,{class:"ion-padding"},{default:f((()=>[e.invite?(m(),w(x,{key:0},[b("div",z,[b("p",null,[b("b",null,y(e.invite.name),1),t[5]||(t[5]=k(" heeft je uitgenodigd om te registreren op de VDC website."))]),t[6]||(t[6]=b("p",{class:"info"},"Deze uitnodiging is alleen bestemt voor leden van de duikclub.",-1))]),e.error?(m(),w("span",M,y(e.error),1)):_("",!0),v(l,null,{default:f((()=>[v(s,{position:"floating"},{default:f((()=>t[7]||(t[7]=[k("E-mail")]))),_:1}),v(n,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),type:"email"},null,8,["modelValue"])])),_:1}),v(l,null,{default:f((()=>[v(s,{position:"floating"},{default:f((()=>t[8]||(t[8]=[k("Voornaam")]))),_:1}),v(n,{modelValue:e.firstName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.firstName=t),type:"text"},null,8,["modelValue"])])),_:1}),v(l,null,{default:f((()=>[v(s,{position:"floating"},{default:f((()=>t[9]||(t[9]=[k("Achternaam")]))),_:1}),v(n,{modelValue:e.lastName,"onUpdate:modelValue":t[2]||(t[2]=t=>e.lastName=t),type:"text"},null,8,["modelValue"])])),_:1}),v(l,null,{default:f((()=>[v(s,{position:"floating"},{default:f((()=>t[10]||(t[10]=[k("Wachtwoord")]))),_:1}),v(n,{modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),type:"password"},null,8,["modelValue"])])),_:1}),v(l,null,{default:f((()=>[v(s,{position:"floating"},{default:f((()=>t[11]||(t[11]=[k("Wachtwoord (herhalen)")]))),_:1}),v(n,{modelValue:e.password2,"onUpdate:modelValue":t[4]||(t[4]=t=>e.password2=t),type:"password"},null,8,["modelValue"])])),_:1}),v(d,{expand:"full",onClick:e.register},{default:f((()=>t[12]||(t[12]=[k("Registreren")]))),_:1},8,["onClick"]),t[13]||(t[13]=b("a",{target:"_blank",href:"https://www.vubdivingcenter.be/privacy-policy/"},"Privacybeleid",-1))],64)):(m(),w("p",C,"Deze uitnodiging is niet geldig of reeds gebruikt."))])),_:1})])),_:1})}],["__scopeId","data-v-3b9eaa51"]]))}}}))}();
